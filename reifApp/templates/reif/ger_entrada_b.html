<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
    <meta name="description" content=""/>
    <meta name="author" content=""/>
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <title>Refeitório</title>
    <!-- Favicon-->
    <link rel="icon" type="image/x-icon" href=""/>
    <!-- Bootstrap icons-->

    <!-- Core theme CSS (includes Bootstrap)-->
    <link href="/static/css/meu.css" rel="stylesheet"/>
    <link href="/static/css/styles.css" rel="stylesheet"/>
</head>
<!-- ... (head section remains unchanged) ... -->

<body>
<!-- Responsive navbar-->
<nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
    <div class="container px-lg-5">
        <a class="navbar-brand" href="{% url 'home' %}">Reif</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
                aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            {% block menu %}
                <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
                    <li class="nav-item"><a class="nav-link active" aria-current="page" href="#!">Home</a></li>
                    <li class="nav-item"><a class="nav-link" href="#!">About</a></li>
                    <li class="nav-item"><a class="nav-link" href="#!">Contact</a></li>
                </ul>
            {% endblock menu %}
        </div>
    </div>
</nav>

<!-- Header-->
<header class="mt-5">
    {% block titulo %}
    {% endblock titulo %}
</header>

<!-- Page Content-->
<section class="container">
   <div class="container mt-5">
            <div class="row justify-content-center">
                <fieldset title="Cadastro de Discente" style="border: solid 2px rgb(0,0,6)"
                          class="col-lg-6 col-xl-6 col-md-8 col-sm-12 p-5 rounded-5 mb-5">
                    <form method="GET" class="input-group">
                        <input type="search" id="searchInput" class="form-group form-control mr-1 border-dark" name="search"
                            value="{{ request.GET.search }}">
                    </form>
                </fieldset>

                <div class="row">
                    <div class="form-group" id="resultados-container">
                        <!-- Exibir resultados de discente aqui -->
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>Foto</th>
                                    <th>Nome</th>
                                    <!-- Restante dos cabeçalhos -->
                                </tr>
                            </thead>
                            <tbody>
                                {% for discente in discentes %}
                                    <tr>
                                        <td class="text-center">
                                            <img class="rounded-circle" style="height: 50px; width: 50px"
                                                src="{{ discente.foto_url }}" alt="foto">
                                        </td>
                                        <td>{{ discente.nome_discente }}</td>
                                        <!-- Restante dos detalhes do discente -->
                                    </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

</section>

<!-- Footer-->
<footer class="py-lg-5 bg-dark fixed-bottom">
    <div class="container">
        <p class="m-0 text-center text-white">Copyright &copy; Gerência de Ensino Superior 2024</p>
    </div>
</footer>

<!-- Bootstrap core JS-->
<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
        <script>
            $(document).ready(function () {
                console.log('Script carregado com sucesso!');

                $('#searchInput').on('input', function () {
                    clearTimeout($(this).data('timer'));
                    $(this).data('timer', setTimeout(function () {
                        atualizarResultados();
                    }, 300));
                });

                function atualizarResultados() {
                    var searchQuery = $('#searchInput').val();
                    // Realize a busca no banco de dados usando AJAX ou outras lógicas necessárias
                    $.ajax({
                        type: 'GET',
                        data: {search: searchQuery},
                        headers: {'X-Requested-With': 'XMLHttpRequest'},
                        success: function (data) {
                            $('#resultados-container').html(data());
                        },
                        error: function (xhr, textStatus, errorThrown) {
                            console.error('Erro na solicitação AJAX:', textStatus, errorThrown);
                        }
                    });
                }
            });
        </script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>

<!-- Core theme JS-->
<script src="js/scripts.js"></script>
</body>
</html>
